<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Morata Mart | Premium General Store</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; color: #1e293b; }
        .brand-blue { background: #1d4ed8; }
        .product-card { transition: all 0.3s ease; border: 1px solid #e2e8f0; border-radius: 16px; overflow: hidden; background: white; }
        .product-card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px -10px rgba(0, 0, 0, 0.1); border-color: #3b82f6; }
        .buy-page { display: none; position: fixed; inset: 0; background: white; z-index: 1000; overflow-y: auto; }
        .real-img { width: 100%; height: 200px; object-fit: cover; }
    </style>
</head>
<body>

    <header class="brand-blue text-white sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-2xl font-extrabold tracking-tighter">MORATA MART</div>
            <div class="flex items-center gap-8">
                <nav class="hidden md:flex gap-6 text-sm font-medium">
                    <a href="#" class="hover:text-blue-200">New Arrivals</a>
                    <a href="#" class="hover:text-blue-200">Categories</a>
                    <a href="#" class="hover:text-blue-200">Support</a>
                </nav>
                <div class="relative cursor-pointer">
                    <i class="fas fa-shopping-bag text-xl"></i>
                    <span id="cart-dot" class="absolute -top-1 -right-2 bg-red-500 w-2 h-2 rounded-full border-2 border-blue-700"></span>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">
        <div class="mb-10">
            <h2 class="text-3xl font-extrabold text-slate-900">Current Stock</h2>
            <p class="text-slate-500">Verified products with real-time availability.</p>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
            
            <div class="product-card">
                <img src="https://images.unsplash.com/photo-1558060370-d644479cb6f7?auto=format&fit=crop&q=80&w=800" class="real-img" alt="Wooden Bear Toy">
                <div class="p-5">
                    <span class="text-[10px] font-bold text-blue-600 uppercase tracking-widest">Handmade Toys</span>
                    <h3 class="font-bold text-lg mt-1">Eco-Friendly Wooden Bear</h3>
                    <p class="text-sm text-slate-500 mt-2">Organic pine wood, non-toxic paint, safe for children.</p>
                    <div class="flex justify-between items-center mt-6">
                        <span class="text-xl font-extrabold">$24.00</span>
                        <button onclick="openBuyPage('Wooden Bear Toy', 24.00)" class="bg-blue-600 text-white px-5 py-2 rounded-full text-xs font-bold hover:bg-blue-700">Buy Now</button>
                    </div>
                </div>
            </div>

            <div class="product-card">
                <img src="https://images.unsplash.com/photo-1584100936595-c0654b55a2e2?auto=format&fit=crop&q=80&w=800" class="real-img" alt="Cotton Pillow">
                <div class="p-5">
                    <span class="text-[10px] font-bold text-blue-600 uppercase tracking-widest">Home Comfort</span>
                    <h3 class="font-bold text-lg mt-1">Premium Velvet Throw Pillow</h3>
                    <p class="text-sm text-slate-500 mt-2">High-density foam core with 100% velvet cover.</p>
                    <div class="flex justify-between items-center mt-6">
                        <span class="text-xl font-extrabold">$18.50</span>
                        <button onclick="openBuyPage('Velvet Throw Pillow', 18.50)" class="bg-blue-600 text-white px-5 py-2 rounded-full text-xs font-bold hover:bg-blue-700">Buy Now</button>
                    </div>
                </div>
            </div>

            <div class="product-card">
                <img src="https://images.unsplash.com/photo-1531346680769-a1d79b57ce5e?auto=format&fit=crop&q=80&w=800" class="real-img" alt="Notebook Set">
                <div class="p-5">
                    <span class="text-[10px] font-bold text-blue-600 uppercase tracking-widest">Stationary</span>
                    <h3 class="font-bold text-lg mt-1">A5 Leatherbound Journal</h3>
                    <p class="text-sm text-slate-500 mt-2">120 GSM recycled paper, bleed-proof, elastic closure.</p>
                    <div class="flex justify-between items-center mt-6">
                        <span class="text-xl font-extrabold">$12.99</span>
                        <button onclick="openBuyPage('Leather Journal', 12.99)" class="bg-blue-600 text-white px-5 py-2 rounded-full text-xs font-bold hover:bg-blue-700">Buy Now</button>
                    </div>
                </div>
            </div>

            <div class="product-card">
                <img src="https://images.unsplash.com/photo-1595433707802-68267d83760a?auto=format&fit=crop&q=80&w=800" class="real-img" alt="Dustbin">
                <div class="p-5">
                    <span class="text-[10px] font-bold text-blue-600 uppercase tracking-widest">Household</span>
                    <h3 class="font-bold text-lg mt-1">Compact Stainless Steel Bin</h3>
                    <p class="text-sm text-slate-500 mt-2">Smudge-proof coating with silent close lid technology.</p>
                    <div class="flex justify-between items-center mt-6">
                        <span class="text-xl font-extrabold">$32.00</span>
                        <button onclick="openBuyPage('Stainless Steel Bin', 32.00)" class="bg-blue-600 text-white px-5 py-2 rounded-full text-xs font-bold hover:bg-blue-700">Buy Now</button>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <div id="buy-page" class="buy-page p-8">
        <div class="max-w-4xl mx-auto">
            <button onclick="closeBuyPage()" class="text-blue-600 font-bold mb-10"><i class="fas fa-arrow-left mr-2"></i> Cancel Order</button>
            
            <div class="flex flex-col lg:flex-row gap-16">
                <div class="lg:w-1/2">
                    <h2 class="text-3xl font-extrabold mb-4">Complete Your Order</h2>
                    <div id="summary-card" class="bg-slate-50 p-8 rounded-3xl border border-slate-200">
                        </div>
                </div>
                
                <form id="order-form" class="lg:w-1/2 space-y-5">
                    <input type="text" id="cust-name" placeholder="Full Name" required class="w-full p-4 rounded-2xl border outline-none focus:border-blue-500">
                    <textarea id="cust-address" placeholder="Complete Shipping Address" required class="w-full p-4 rounded-2xl border outline-none focus:border-blue-500 h-32"></textarea>
                    <input type="tel" id="cust-phone" placeholder="Phone Number" required class="w-full p-4 rounded-2xl border outline-none focus:border-blue-500">
                    <button type="submit" class="w-full bg-blue-600 text-white py-5 rounded-2xl font-bold text-lg hover:bg-blue-700">
                        Confirm Purchase
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Real connection setup
        let currentItem = {};

        function openBuyPage(name, price) {
            currentItem = { name, price };
            document.getElementById('buy-page').style.display = 'block';
            document.getElementById('summary-card').innerHTML = `
                <div class="flex justify-between border-b pb-4 mb-4">
                    <span class="text-slate-500 uppercase text-xs font-bold tracking-widest">Item</span>
                    <span class="text-slate-900 font-bold">${name}</span>
                </div>
                <div class="flex justify-between">
                    <span class="text-slate-500 uppercase text-xs font-bold tracking-widest">Total Price</span>
                    <span class="text-blue-600 text-2xl font-black">$${price}</span>
                </div>
            `;
        }

        function closeBuyPage() { 
            document.getElementById('buy-page').style.display = 'none'; 
        }

        document.getElementById('order-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            btn.innerText = 'Processing Order...';

            // Real Data Object
            const orderData = {
                product: currentItem.name,
                price: currentItem.price,
                customer: document.getElementById('cust-name').value,
                address: document.getElementById('cust-address').value,
                phone: document.getElementById('cust-phone').value,
                orderDate: new Date().toLocaleString()
            };

            // Firebase Logic should go here (await db.collection("orders").add(orderData))
            setTimeout(() => {
                alert(`Order Confirmed for ${orderData.product}!`);
                closeBuyPage();
                btn.innerText = 'Confirm Purchase';
            }, 1000);
        });
    </script>
</body>
</html>
